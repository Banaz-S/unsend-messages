(self.webpackChunkunsend_messages=self.webpackChunkunsend_messages||[]).push([[706],{56:(e,s,r)=>{"use strict";e.exports=r.p+"static/media/purple-flower.786a37c45428c6779e3c.svg"},94:(e,s,r)=>{"use strict";e.exports=r.p+"static/media/pink-flower.b1c5db1d28ae103140d9.svg"},122:(e,s,r)=>{"use strict";e.exports=r.p+"static/media/blue-flower.c317f8ee642117194f1f.svg"},279:(e,s,r)=>{var a={"./blue-canva.svg":656,"./green-canva.svg":605,"./grey-canva.svg":682,"./peach-canva.svg":843,"./pink-canva.svg":660,"./purple-canva.svg":702};function n(e){var s=t(e);return r(s)}function t(e){if(!r.o(a,e)){var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=t,e.exports=n,n.id=279},301:(e,s,r)=>{"use strict";e.exports=r.p+"static/media/green-flower.52d6b14116f23796688f.svg"},605:(e,s,r)=>{"use strict";e.exports=r.p+"static/media/green-canva.2713c7fcabf00af7b1e9.svg"},656:(e,s,r)=>{"use strict";e.exports=r.p+"static/media/blue-canva.b9761bb55d402db8ef7f.svg"},660:(e,s,r)=>{"use strict";e.exports=r.p+"static/media/pink-canva.118344382bf3a1edfbd6.svg"},676:(e,s,r)=>{var a={"./blue-flower.svg":122,"./green-flower.svg":301,"./grey-flower.svg":861,"./peach-flower.svg":747,"./pink-flower.svg":94,"./purple-flower.svg":56};function n(e){var s=t(e);return r(s)}function t(e){if(!r.o(a,e)){var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=t,e.exports=n,n.id=676},682:(e,s,r)=>{"use strict";e.exports=r.p+"static/media/grey-canva.8c5bf73486a2c6439d24.svg"},702:(e,s,r)=>{"use strict";e.exports=r.p+"static/media/purple-canva.6eb9960a64a9ba9dce5f.svg"},706:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>B});var a=r(43);const n=r.p+"static/media/go-back.4c752d930bc542163fb207de122087c7.svg";var t=r(615),o=r(579);const c=function(){const e=(0,t.Zp)();return(0,o.jsx)("div",{className:"create-letter",children:(0,o.jsxs)("div",{className:"title",children:[(0,o.jsx)("img",{className:"go-back",src:n,alt:"",style:{cursor:"pointer"},onClick:()=>e(-1)}),(0,o.jsx)("h3",{children:"Say What You Carry in Your Heart"})]})})};const l=r.p+"static/media/arrow-up.675db532012ee53fbf3b65cd18db60d3.svg";const i=r.p+"static/media/arrow-down.8f013cd1d1ea3966d6504c559ba4b4c2.svg",d=[{name:"pink",label:"Pink"},{name:"blue",label:"Blue"},{name:"peach",label:"Peach"},{name:"grey",label:"Grey"},{name:"purple",label:"Purple"},{name:"green",label:"Green"}];const v=function(e){let{onColorChange:s,isOpen:r,onToggle:n}=e;const[t,c]=(0,a.useState)("grey"),v=d.find(e=>e.name===t),g=(null===v||void 0===v?void 0:v.label)||"Grey";return(0,o.jsxs)("div",{className:"custom-dropdown color-dropdown",children:[(0,o.jsxs)("div",{className:"dropdown-toggle",onClick:n,children:[(0,o.jsxs)("div",{className:"color-text-selected",children:[(0,o.jsx)("span",{className:`color-dot ${t}`}),(0,o.jsx)("span",{className:"selected-text",children:g})]}),(0,o.jsx)("span",{className:"arrow",children:(0,o.jsx)("img",{className:"change-arrow",src:r?l:i,alt:"Toggle Arrow"})})]}),r&&(0,o.jsxs)("div",{className:"dropdown-menu",children:[(0,o.jsx)("p",{className:"dropdown-title",children:"Colors"}),(0,o.jsx)("div",{className:"color-options",children:d.map(e=>(0,o.jsxs)("div",{className:"color-option "+(t===e.name?"selected":""),onClick:()=>{return r=e.name,c(r),s(r),void n(null);var r},children:[(0,o.jsx)("span",{className:`color-dots ${e.name}`}),e.label]},e.name))})]})]})};var g=r(711),m=r(83),u=r(262),p=r(710),h=r(492),x=r(477),f=r(15),b=r(555),w=r(352),j=r(664),N=r(958),C=r(581);g.A,m.A,u.A,p.A,x.A,h.A,f.A,b.A,w.A,j.A,C.A,N.A;const k=function(e){let{color:s,toMention:n,border:t,onTextChange:c}=e;const[l,i]=(0,a.useState)("ltr"),d=r(931)(`./${s}-${t}.svg`);return(0,o.jsx)("div",{className:"letter-card",children:(0,o.jsxs)("div",{className:"image-card",children:[(0,o.jsx)("img",{className:"img-card",src:d,alt:"Card Image"}),(0,o.jsx)("textarea",{className:"card-textarea text",style:{direction:l},placeholder:"Write here...",onChange:e=>{return s=e.target.value,/[\u0600-\u06FF]/.test(s)?i("rtl"):i("ltr"),void c(s);var s}}),(0,o.jsxs)("p",{className:`card-footer to ${s}s`,children:["To: ",n]})]})})};const y=function(e){let{onMentionChange:s,isOpen:r,onToggle:n}=e;const[t,c]=(0,a.useState)("No Mention");return(0,o.jsxs)("div",{className:"custom-dropdown mention-list",children:[(0,o.jsxs)("div",{className:"dropdown-toggle",onClick:n,children:[(0,o.jsx)("span",{className:"for-who",children:t}),(0,o.jsx)("span",{className:"arrow",children:(0,o.jsx)("img",{className:"change-arrow2",src:r?l:i,alt:"Toggle Arrow"})})]}),r&&(0,o.jsxs)("div",{className:"dropdown-menu",children:[(0,o.jsx)("p",{className:"dropdown-title",children:"For Whom"}),(0,o.jsx)("div",{className:"who-options",children:["Me","A Friend","My Manager","Mom","Dad","Sister","Brother","Teacher","Stranger","No Mention"].map(e=>(0,o.jsx)("div",{className:"who-option "+(t===e?"selected":""),onClick:()=>(e=>{c(e),s(e),n(null)})(e),children:e},e))})]})]})};const O=function(e){let{onBorderChange:s,isOpen:a,onToggle:n,selectedColor:t,selectedBorder:c="canva"}=e;const d=e=>{s(e),n(null)},v=r(279)(`./${t}-canva.svg`),g=r(676)(`./${t}-flower.svg`);return(0,o.jsxs)("div",{className:"custom-dropdown border-style",children:[(0,o.jsxs)("div",{className:"dropdown-toggle",onClick:n,children:[(0,o.jsx)("span",{className:"selected-border selected-card",children:{canva:"Calm Canvas",flower:"Flowered Border"}[c]}),(0,o.jsx)("span",{className:"arrow",children:(0,o.jsx)("img",{className:"change-arrow3",src:a?l:i,alt:""})})]}),a&&(0,o.jsxs)("div",{className:"dropdown-menu",children:[(0,o.jsx)("p",{className:"dropdown-title",children:"Border Style"}),(0,o.jsxs)("div",{className:"border-options",children:[(0,o.jsx)("div",{className:"border-option",onClick:()=>d("canva"),children:"Calm Canvas"}),(0,o.jsx)("div",{className:"border-option",onClick:()=>d("flower"),children:"Flowered Border"})]}),(0,o.jsxs)("div",{className:"card-borders",children:[(0,o.jsx)("img",{className:"card1",src:v,alt:"Canvas Preview"}),(0,o.jsx)("img",{className:"card2",src:g,alt:"Flower Preview"})]})]})]})};const T=r.p+"static/media/loading-blue.08664abe532748c842f9b32b149caa51.svg";var M=r(609);const S=function(e){let{letterText:s,selectedColor:r,selectedBorder:n,selectedMention:c,isChecked:l}=e;const[i,d]=(0,a.useState)(!1),[v,g]=(0,a.useState)(!1),m=(0,t.Zp)(),u=!s.trim()||!l;return(0,o.jsxs)("div",{className:"share-btn-container",onMouseEnter:()=>g(u),onMouseLeave:()=>g(!1),children:[(0,o.jsx)("button",{className:"write-letter-btn post-letter "+(u?"disabled":"enabled"),onClick:async()=>{if(!u&&!i){d(!0);try{if(!(await fetch(`${M.t}/letters`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:s,color:r,border:n,mention:c})})).ok)throw new Error("Failed to save letter");setTimeout(()=>{m("/")},1e3)}catch(e){console.error(e)}}},disabled:u||i,children:i?(0,o.jsx)("img",{src:T,alt:"Loading...",className:"loading-icon"}):"Share Your Letter"}),v&&!i&&(0,o.jsx)("p",{className:"tooltip-msg",children:"Please write the letter and agree to the terms"})]})};const A=function(e){let{checked:s,onChange:r}=e;return(0,o.jsxs)("div",{className:"submit",children:[(0,o.jsx)("input",{type:"checkbox",className:"checkbox",checked:s,onChange:r}),(0,o.jsxs)("p",{children:[(0,o.jsx)("span",{children:"I agree that my letter "})," will be shared for 7 days."]})]})};const B=function(){const[e,s]=(0,a.useState)("grey"),[r,n]=(0,a.useState)("No Mention"),[t,l]=(0,a.useState)("canva"),[i,d]=(0,a.useState)(null),[g,m]=(0,a.useState)(""),[u,p]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{const e=e=>{e.target.closest(".custom-dropdown")||d(null)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,o.jsxs)("div",{children:[(0,o.jsx)(c,{}),(0,o.jsxs)("div",{className:"grid-layout",children:[(0,o.jsx)(k,{color:e,toMention:r,border:t,onTextChange:m}),(0,o.jsxs)("div",{className:"right",children:[(0,o.jsx)(v,{onColorChange:s,isOpen:"color"===i,onToggle:()=>d(e=>"color"===e?null:"color")}),(0,o.jsx)(y,{onMentionChange:n,isOpen:"mention"===i,onToggle:()=>d(e=>"mention"===e?null:"mention")}),(0,o.jsx)(O,{onBorderChange:l,isOpen:"border"===i,onToggle:()=>d(e=>"border"===e?null:"border"),selectedColor:e,selectedBorder:t}),(0,o.jsx)(S,{letterText:g,selectedColor:e,selectedBorder:t,selectedMention:r,isChecked:u}),(0,o.jsx)(A,{checked:u,onChange:()=>p(e=>!e)})]})]})]})}},747:(e,s,r)=>{"use strict";e.exports=r.p+"static/media/peach-flower.b474d99693f91ed4e961.svg"},843:(e,s,r)=>{"use strict";e.exports=r.p+"static/media/peach-canva.29f4a8b7abb694241718.svg"},861:(e,s,r)=>{"use strict";e.exports=r.p+"static/media/grey-flower.a36871a518e707261011.svg"},931:(e,s,r)=>{var a={"./blue-canva.svg":656,"./blue-flower.svg":122,"./green-canva.svg":605,"./green-flower.svg":301,"./grey-canva.svg":682,"./grey-flower.svg":861,"./peach-canva.svg":843,"./peach-flower.svg":747,"./pink-canva.svg":660,"./pink-flower.svg":94,"./purple-canva.svg":702,"./purple-flower.svg":56};function n(e){var s=t(e);return r(s)}function t(e){if(!r.o(a,e)){var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=t,e.exports=n,n.id=931}}]);
//# sourceMappingURL=706.2b7030b9.chunk.js.map